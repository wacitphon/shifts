(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{477:()=>{},2438:(e,t,a)=>{Promise.resolve().then(a.bind(a,2448))},2448:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var l=a(5155),n=a(2115),r=a(5695),o=a(402);a(7075);let s=async e=>{let t="@_!_AkAtHoSpItAl_!_@_1_1_0_9_8_@";if(!t)throw Error("Key is not defined in .env");return"object"==typeof e&&(e=JSON.stringify(e)),o.encrypt(e,t).toString()};var i=a(9134),c=a(4752),d=a.n(c),u=a(9951),m=a(3966),h=a(1184),f=a(9365);function g(){var e,t;let{locationStatus:a,currentPosition:o,isFromTrustedNetwork:c}=(0,m.A)();console.log("Location Status:",a);let[g,x]=(0,n.useState)(""),[p,v]=(0,n.useState)(!1),[b,w]=(0,n.useState)(null),[y,j]=(0,n.useState)([]),[S,N]=(0,n.useState)(""),k=(0,r.useRouter)(),[_,I]=(0,n.useState)(null),[C,A]=(0,n.useState)(new Date),[E,P]=(0,n.useState)(!1),[T,D]=(0,n.useState)([]),[B,O]=(0,n.useState)(null),[M,L]=(0,n.useState)(""),[G,R]=(0,n.useState)(null),[q,z]=(0,n.useState)(!1),[H,U]=(0,n.useState)(!1),[V,F]=(0,n.useState)(""),J=(0,n.useRef)(null),[K,W]=(0,n.useState)(""),[$,Q]=(0,n.useState)(void 0),[Z,X]=(0,n.useState)(30),[Y,ee]=(0,n.useState)(!1);(0,n.useEffect)(()=>{P(!0)},[]),(0,n.useEffect)(()=>{let e;return H&&(X(30),e=setInterval(()=>{X(e=>e-1)},1e3)),()=>clearInterval(e)},[H]),(0,n.useEffect)(()=>{let e=setInterval(()=>{A(new Date)},1e3);return()=>clearInterval(e)},[]);let et=C.toLocaleString("th-TH",{timeZone:"Asia/Bangkok",hour:"2-digit",minute:"2-digit",second:"2-digit"}),ea=C.toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric",weekday:"long"});(0,n.useEffect)(()=>{(async()=>{try{let e=await i.A.get("/public/fetchHolidays");I(e.data)}catch(a){var e,t;d().fire({title:"เกิดข้อผิดพลาดในการโหลดข้อมูล",icon:"question"}),console.log(null===(t=a.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)}})()},[]),(0,n.useEffect)(()=>{1!==b&&O(null)},[b]),(0,n.useEffect)(()=>{(async()=>{try{let e=await i.A.get("/public/fetchShifts");D(e.data.data)}catch(a){var e,t;d().fire({title:"เกิดข้อผิดพลาดในการโหลดข้อมูล",icon:"warning",confirmButtonText:"ตกลง",confirmButtonColor:"#3add88d"}).then(e=>{e.isConfirmed&&location.reload()}),console.log(null===(t=a.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)}})()},[]);let el=[{id:1,title:"ปกติ"},{id:3,title:"On Call"},{id:2,title:"วันหยุดหรือวันหยุดราชการ"}];(0,n.useEffect)(()=>{let e=new Date().getDay();_&&_.data?1===_.data.shift_type_id?j([el[0],el[1]]):j([el[2],el[1]]):e>=1&&e<=5?j([el[0],el[1]]):(0===e||6===e)&&j([el[2]])},[_]);let en=async e=>{if(e.preventDefault(),!g||13!==g.length){N("* กรุณากรอกเลขบัตรประชาชนให้ครบ 13 หลัก *");return}"checkin"===G?await er():"checkout"===G&&await eo()},er=async()=>{try{z(!0);let e=await s(g),t=await i.A.post("/public/checkIn",{national_id:e,shift_type_id:b,shift_id:B,latitude:o.lat,longitude:o.lon,desc:M},{headers:{Authorization:"Bearer ".concat(e)}}),a=function(e){if(!e)return null;try{let t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(a)}catch(e){return console.error("Invalid tokencheck or decode failed:",e),null}}(t.data.token);(null==a?void 0:a.fullname)&&localStorage.setItem("fullname",a.fullname),localStorage.setItem("tokencheck",t.data.token),localStorage.setItem("national_id",e),localStorage.setItem("shift_type_id",b),localStorage.setItem("formattedTime",et),U(!0),z(!1)}catch(l){var e,t;let a=null==l?void 0:null===(t=l.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message;d().fire({title:"ลงชื่อเข้าใช้งานไม่สำเร็จ",text:a,icon:"error"}),k.push("/"),ei(),ec(""),O(null),z(!1)}},eo=async()=>{try{z(!0);let e=await s(g);localStorage.setItem("national_id",e),localStorage.setItem("shift_type_id",b);let t=await i.A.post("/public/checkOut",{national_id:e,latitude:null==o?void 0:o.lat,longitude:null==o?void 0:o.lon,desc:M},{headers:{Authorization:"Bearer ".concat(e)}});200===t.status&&(d().fire({title:"สำเร็จ",text:"คุณได้ลงชื่อออกงานเรียบร้อยแล้วขอบคุณสำหรับการทำงาน",icon:"success",confirmButtonColor:"#4DC247"}),localStorage.removeItem("tokencheck"),localStorage.removeItem("national_id"),localStorage.removeItem("shift_type_id"),localStorage.removeItem("fullname"),localStorage.removeItem("otpCode"),localStorage.removeItem("formattedTime"),ei(),ec(""),z(!1))}catch(e){d().fire({title:"ลงชื่อออกงานไม่สำเร็จ",text:"ไม่มีการ CheckIn เข้าทำงาน!",icon:"question",confirmButtonColor:"#9337EB"}),ei(),ec(""),O(null),z(!1)}finally{z(!1)}};(0,n.useEffect)(()=>{let e=localStorage.getItem("fullname");e&&W(e)}),(0,n.useEffect)(()=>{0===Z&&H&&d().fire({title:"หมดเวลาการกรอกรหัสยืนยัน",text:"กรุณาขอรหัส OTP ใหม่",icon:"warning",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,didClose:()=>{es(),ed(),U(!1),w(null),ei(),ec(""),F(""),ee(!1),z(!1),localStorage.setItem("isdata",JSON.stringify(!1))}}),0!==Z&&H&&(ee(!0),localStorage.setItem("isdata",JSON.stringify(!0)))},[Z,H]),(0,n.useEffect)(()=>{6===V.length&&(es(),ed(),ei(),ec(""),w(null))},[V]);let es=async()=>{localStorage.setItem("otpCode",V);try{let e=localStorage.getItem("tokencheck"),t=localStorage.getItem("otpCode"),a=localStorage.getItem("fullname"),l=localStorage.getItem("formattedTime"),n=await i.A.post("/public/checkInVerifyOtp",{otpCode:t},{headers:{Authorization:"Bearer ".concat(e)},"Content-Type":"application/json"});200===n.status&&d().fire({title:"ยืนยันการเข้างาน",text:"ชื่อ : ".concat(a," เวลาทำงานของคุณคือ ").concat(l," น. ,ตั้งใจทำงานเด้อ!"),icon:"success",confirmButtonText:"ตกลง",customClass:{popup:"custom-popup",confirmButton:"custom-button"},confirmButtonColor:"#4DC247"}).then(()=>{localStorage.removeItem("tokencheck"),localStorage.removeItem("national_id"),localStorage.removeItem("otpCode"),localStorage.removeItem("shift_type_id"),localStorage.removeItem("fullname"),localStorage.removeItem("formattedTime"),U(!1)})}catch(l){var e,t;let a=(null==l?void 0:null===(t=l.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"เกิดข้อผิดพลาดในการยืนยัน OTP";"TokenExpiredError!"===a?U(!1):d().fire({title:a,icon:"error",confirmButtonText:"ตกลง",willClose:()=>{ed()}})}};(0,n.useEffect)(()=>{window.history.pushState(null,null,window.location.href),window.onpopstate=function(){window.history.pushState(null,null,window.location.href)};let e=e=>{if(!V||V.length<6){let t="คุณยังไม่ได้กรอกรหัส OTP ต้องการออกจากหน้านี้หรือไม่?";return e.returnValue=t,t}};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[V]);let ei=()=>{x("")},ec=()=>{L("")},ed=()=>{F("")};return(0,l.jsx)(u.A,{children:(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-green-800 to-green-500 flex items-center justify-center px-2 ",children:(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-4 relative text-center",children:[(0,l.jsx)("div",{className:"absolute -top-14 left-1/2 transform -translate-x-1/2 mt-1",children:(0,l.jsx)("img",{src:"/check/docs/lngwela.png",alt:"avatar",className:"w-28 h-28 rounded-full border-4 border-white shadow-md object-cover"})}),(0,l.jsxs)("div",{className:"mt-18 ",children:[(0,l.jsx)("div",{className:"flex justify-center w-full",children:(0,l.jsxs)("div",{className:"flex text-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-green-900",children:"LNG WELA "}),(0,l.jsx)("p",{className:"text-lg ml-2 text-gray-700 mt-1",children:"ระบบลงเวลา"})]})}),(0,l.jsxs)("div",{className:"mt-1 text-sm text-gray-800",children:[(0,l.jsx)("p",{className:"font-semibold",children:"โรงพยาบาลอากาศอำนวย"}),(0,l.jsx)("p",{children:ea}),(0,l.jsx)("p",{className:"text-lg font-bold",children:et})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-800 text-lg font-bold mb-2",children:"เลขบัตรประชาชน"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{className:" text-center w-full border rounded-lg px-4 py-2 pr-10 text-gray-800 focus:outline-none focus:ring-2 focus:ring-green-500",maxLength:"13",type:p?"password":"tel",inputMode:"numeric",pattern:"\\d*",autoComplete:"off",value:g,onChange:e=>{let t=e.target.value;/^\d*$/.test(t)&&(x(t),13!==t.length?N("* กรุณากรอกเลขบัตรประชาชนให้ครบ 13 หลัก *"):N(""))},placeholder:"กรุณากรอกเลขบัตรประชาชน",required:!0}),(0,l.jsx)("button",{type:"button",className:"absolute inset-y-0 right-2 flex items-center text-gray-500",onClick:()=>v(!p)})]})]}),S&&(0,l.jsx)("div",{className:"text-red-500 text-center mt-2 text-sm",children:S}),(0,l.jsx)("div",{className:"mt-4 grid grid-cols-2 gap-2 text-sm font-medium ",children:y.map((e,t)=>(0,l.jsx)("button",{type:"button",className:"px-4 py-2 rounded-md border-2 text-lg transition ".concat(b===e.id?"bg-green-800 text-white border-green-800":"bg-white text-green-800 border-green-800"),onClick:()=>{if(e.id!==b){if(13!==g.length){N("*กรุณากรอกเลขบัตรประชาชน 13 หลัก*");return}w(e.id)}},children:e.title},t))}),(0,l.jsx)("div",{className:"text-center mt-4 text-green-800 font-semibold",children:b?(0,l.jsxs)("div",{children:["เวร:"," ",null===(e=y.find(e=>e.id===b))||void 0===e?void 0:e.title," ",(1===b||2===b)&&(0,l.jsxs)(l.Fragment,{children:[":"," ",B?null===(t=T.find(e=>e.shift_id===B))||void 0===t?void 0:t.shift_name:(0,l.jsx)("span",{className:"text-green-600",children:"ยังไม่เลือกช่วงเวลา"})]})]}):"กรุณาเลือกช่วงเวลา"}),(1===b||2===b)&&(0,l.jsx)("div",{className:"flex sm:flex-row justify-center items-center mt-2 gap-2 sm:gap-4",children:T.filter(e=>1===b||2===b&&(e.shift_name.includes("เช้า")||e.shift_name.includes("บ่าย")||e.shift_name.includes("ดึก"))).map(e=>(0,l.jsx)("button",{type:"button",className:"font-bold py-2 px-6 rounded-md border-2 focus:outline-none w-full sm:w-auto transition\n            ".concat(B===e.shift_id?"bg-green-700 text-white border-green-700":"bg-white text-green-800 border-green-800"),onClick:()=>{if(13!==g.length){N("*กรุณากรอกเลขบัตรประชาชน 13 หลัก*");return}B===e.shift_id?O(null):O(e.shift_id)},children:e.shift_name},e.shift_id))}),(0,l.jsxs)("form",{onSubmit:en,children:[["คุณอยู่นอกพื้นที่ที่กำหนด","คุณอยู่นอกพื้นที่","ตำแหน่งของคุณถูกจำกัด (พื้นที่เขตที่พัก-แฟลต)","ตำแหน่งของคุณถูกจำกัด (พื้นที่เขตที่พัก-แพทย์)","ตำแหน่งของคุณถูกจำกัด (พื้นที่เขตที่พัก-บ้านบุคลากร)"].includes(null==a?void 0:a.name)&&!1===c&&null!==o&&(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("p",{className:"text-black",children:"คุณอยู่นอกพื้นที่ กรุณาระบุเหตุผล"}),(0,l.jsx)("textarea",{placeholder:"กรุณากรอกหมายเหตุ (ถ้าอยู่นอกพื้นที่)",className:"w-full border rounded-lg px-4 py-2 text-gray-800 focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,value:M,onChange:e=>L(e.target.value)})]}),(0,l.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-2",children:[(0,l.jsx)("button",{className:"w-full bg-green-800 text-white rounded-lg py-3 font-semibold transition ".concat(q?"opacity-70 cursor-not-allowed":"hover:bg-green-700"),disabled:13!==g.length||q,onClick:()=>R("checkin"),type:"submit",children:q?"กำลังบันทึกข้อมูล...":"ลงชื่อ-เข้างาน"}),(0,l.jsx)("button",{className:"w-full bg-green-800 text-white rounded-lg py-3 font-semibold transition ".concat(q?"opacity-70 cursor-not-allowed":"hover:bg-green-700"),disabled:13!==g.length||q,onClick:()=>R("checkout"),type:"submit",children:q?"กำลังบันทึกข้อมูล...":"ลงชื่อ-ออกงาน"})]})]}),(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("a",{href:"https://akathos.moph.go.th/hospital/auth/login?redirect=/user",className:"text-green-600 hover:underline text-sm",target:"_blank",rel:"noopener noreferrer",children:"ข้อมูลการลงเวลา"}),(0,l.jsxs)("div",{className:"text-center mt-2 justify-center",children:[(0,l.jsx)("div",{className:"text-gray-400 mt-2 text-sm cursor-pointer hover:text-green-800",children:"v 0.2.5"}),H&&(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm bg-white/30",children:(0,l.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-lg text-center max-w-sm w-full",children:(0,l.jsxs)("div",{className:"bg-white  rounded-sm px-8 pt-4 pr-3 pl-4 pb-8  mt-4  ",children:[(0,l.jsx)("p",{className:"select-none text-2xl font-bold text-black text-center mt-4 ",children:"\uD83D\uDD12 ยืนยัน OTP"}),(0,l.jsx)("img",{className:"w-37 mx-auto rounded-full ",src:"/check/docs/otpphon.png",alt:"imageverify"}),(0,l.jsxs)("p",{className:"text-center text-lg font-semibold text-black mt-1",children:["ชื่อ: ",K]}),(0,l.jsx)("p",{className:"text-center text-base text-gray-600 mt-2",children:0!==Z?"เหลือเวลา ".concat(Z):"เวลาหมดกรุณาขอรหัส OTP ใหม่"}),(0,l.jsx)("div",{className:"text-black mt-2",children:(0,l.jsx)(f.UV,{maxLength:6,pattern:h.UO,value:V,onChange:e=>F(e),children:(0,l.jsx)(f.NV,{className:"space-x-2",children:[...Array(6)].map((e,t)=>(0,l.jsx)(f.sF,{index:t,ref:0===t?J:void 0,inputMode:"numeric",pattern:"\\d*",className:"bg-zinc-300 inset-shadow-sm text-2xl h-14 w-12 rounded-sm border-l border-accent shadow-none font-semibold"},t))})})})]})})})]})]})]})]})})})}},3966:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var l=a(2115),n=a(5739);function r(){return(0,l.useContext)(n.A)}},5739:(e,t,a)=>{"use strict";a.d(t,{A:()=>u,GpsContextProvider:()=>d});var l=a(5155),n=a(3464),r=a(2115),o=a(9134);let s=(0,r.createContext)(),i=(e,t,a,l)=>{let n=e=>e*Math.PI/180,r=n(a-e),o=n(l-t),s=Math.sin(r/2)**2+Math.cos(n(e))*Math.cos(n(a))*Math.sin(o/2)**2;return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371e3},c=["202.80.228.44"];function d(e){let{children:t}=e,[a,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(null),[h]=(0,r.useState)(!1),[f,g]=(0,r.useState)({status:"error",name:"คุณอยู่นอกพื้นที่"}),[x,p]=(0,r.useState)(!1),{locations:v}=function(){let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{try{let e=(await o.A.get("/public/fetchGps")).data.data.map(e=>({id:e.stl_id,name:e.stl_name,lat:e.stl_lat,lon:e.stl_lon,radius:e.stl_radius,block:e.stl_block}));t(e)}catch(e){l("เกิดข้อผิดพลาดในการโหลดพิกัด"),console.error(e)}})()},[]),{locations:e,error:a}}(),b=(0,r.useRef)(null),w=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(!navigator.geolocation){m("เบราว์เซอร์ของคุณไม่รองรับ GPS");return}let e=()=>/Mobi|Android|iPhone/i.test(navigator.userAgent),t=setTimeout(()=>{a||m("ไม่สามารถรับตำแหน่งจากอุปกรณ์ได้ภายในเวลาที่กำหนด")},1e4),l=a=>{clearTimeout(t);let l={lat:a.coords.latitude,lon:a.coords.longitude};if(console.log("\uD83D\uDCCD GPS Received:",l,"| Accuracy:",a.coords.accuracy),e()&&a.coords.accuracy>150){m("GPS ไม่แม่นยำพอ (".concat(Math.round(a.coords.accuracy)," เมตร)")),d(l);return}let n={lat:17.598248230864677,lon:103.97421612776841};if(!b.current&&i(l.lat,l.lon,n.lat,n.lon)>1e3){m("ตรวจพบว่าคุณเริ่มต้นจากตำแหน่งที่ไกลผิดปกติ"),d(l);return}let r=Date.now();if(b.current&&w.current){let e=i(b.current.lat,b.current.lon,l.lat,l.lon);if(e/((r-w.current)/1e3)>50){m("ตรวจพบความผิดปกติของตำแหน่ง GPS (เร็วเกินไป)"),d(l);return}}if(b.current=l,w.current=r,u&&m(null),d(l),!v||0===v.length)return;let o=v.find(e=>i(l.lat,l.lon,e.lat,e.lon)<=e.radius);o?o.block?g({status:"error",name:"ตำแหน่งของคุณถูกจำกัด (".concat(o.name,")")}):g({status:"success",name:"คุณอยู่ใน ".concat(o.name)}):g({status:"error",name:"คุณอยู่นอกพื้นที่ที่กำหนด"}),console.log("\uD83D\uDEF0️ GPS Still active:",l)},n=navigator.geolocation.watchPosition(l,e=>{clearTimeout(t),console.warn("⚠️ watchPosition error:",e.message),1===e.code?m("คุณปฏิเสธการเข้าถึงตำแหน่ง"):2===e.code?m("ไม่สามารถระบุตำแหน่งได้จากอุปกรณ์"):3===e.code?m("การขอตำแหน่งหมดเวลา กรุณาลองใหม่"):m("ข้อผิดพลาด : ".concat(e.message)),navigator.geolocation.getCurrentPosition(l,e=>{console.warn("❌ fallback ล้มเหลว:",e.message),m("".concat(e.message))},{enableHighAccuracy:!0,timeout:8e3,maximumAge:0})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0});return()=>{clearTimeout(t),navigator.geolocation.clearWatch(n)}},[v]),(0,r.useEffect)(()=>{y()},[]);let y=async()=>{try{let e=await n.A.get("https://api.ipify.org?format=json");p(c.includes(e.data.ip))}catch(e){console.error("IP fetch error:",e)}};return(0,l.jsx)(s.Provider,{value:{currentPosition:a,error:u,loading:h,locationStatus:f,isFromTrustedNetwork:x,allowedIps:c},children:t})}let u=s},9134:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var l=a(3464);l.A.defaults.baseURL="https://akathos.moph.go.th/api";let n=l.A},9365:(e,t,a)=>{"use strict";a.d(t,{UV:()=>c,NV:()=>d,sF:()=>u});var l=a(5155),n=a(2115),r=a(1184),o=a(2596),s=a(9688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,o.$)(t))}function c(e){let{className:t,containerClassName:a,...n}=e;return(0,l.jsx)(r.wE,{"data-slot":"input-otp",containerClassName:i("flex items-center gap-5 has-disabled:opacity-50 ",a),className:i("disabled:cursor-not-allowed",t),...n})}function d(e){let{className:t,...a}=e;return(0,l.jsx)("div",{"data-slot":"input-otp-group",className:i("flex items-center mt-2",t),...a})}function u(e){var t;let{index:a,className:o,...s}=e,c=n.useContext(r.dK),{char:d,hasFakeCaret:u,isActive:m}=null!==(t=null==c?void 0:c.slots[a])&&void 0!==t?t:{};return(0,l.jsxs)("div",{"data-slot":"input-otp-slot","data-active":m,className:i("data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",o),...s,children:[d,u&&(0,l.jsx)("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:(0,l.jsx)("div",{className:"animate-caret-blink bg-foreground h-4 w-px duration-1000 "})})]})}},9951:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var l=a(5155),n=a(2115),r=a(3966);function o(e){let{children:t}=e,{loading:a,error:o}=(0,r.A)(),[s,i]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{i(!0)},[]),!s||a)?(0,l.jsxs)("div",{role:"status",className:"absolute inset-0 flex items-center justify-center bg-[#0b8d66] flex-col",children:[(0,l.jsx)("img",{src:"/check/docs/loadingfish.gif",alt:"กำลังโหลด...",className:" h-auto w-auto"}),(0,l.jsx)("p",{className:"text-white text-lg sm:text-xl font-semibold animate-pulse",children:"กำลังโหลดข้อมูล..."})]}):"User denied Geolocation"===o?(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-red-900",children:(0,l.jsxs)("div",{className:" text-white text-center p-6 rounded-xl shadow-xl max-w-xl mx-auto ",children:[(0,l.jsx)("p",{className:"mt-4 text-2xl text-red-300 italic ",children:"* แจ้งเตือน *"}),(0,l.jsxs)("div",{className:"mt-3 ",children:[(0,l.jsx)("h1",{className:"text-xl font-bold mb-4",children:"\uD83D\uDEAB ไม่อนุญาตให้ใช้ตำแหน่ง \uD83D\uDEAB"}),(0,l.jsxs)("p",{className:"text-xl",children:["ระบบจำเป็นต้องใช้การระบุตำแหน่งเพื่อเข้าถึงระบบ ",(0,l.jsx)("br",{}),"โปรดอนุญาตให้เข้าถึงตำแหน่งของคุณ"]})]})]})}):(0,l.jsx)(l.Fragment,{children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[320,464,484,66,441,684,358],()=>t(2438)),_N_E=e.O()}]);